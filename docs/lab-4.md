# Лабораторная работа №4

## Отрабатываемый материал
Spring Security

## Задание

Необходимо разработать отдельное Spring Boot-приложение (`API Gateway`), которое:
- Обрабатывает все входящие `HTTP-запросы`
- Проверяет аутентификацию и права доступа
- Перенаправляет запросы в основное приложение (реализованное в предыдущих лабораторных работах)

Существующий функционал банковской системы остаётся без изменений.

Появится роль `Admin`. Не является пользователем, то есть не может иметь счёта или друзей.
Появится роль `Client`. Пользователь, реализованный в прошлых лабораторных работах связан с ролью `Client` в отношении 1:1


## Функциональные требования
### `Admin`
- Создание пользователя
- Создание администратора
- Получение информации о всех пользователях с фильтрацией по гендеру и цвету волос
- Получение информации о пользователе по его идентификатору
- Получение информации о всех счётах пользователей
- Получение информации о счетах по идентификатору пользователя
- Получение информации о счёте со списком его операций по идентификатору счёта
- Может деавторизоваться

### `Client`
- Получение информации о себе
- Получение информации о своих счетах
- Получение информации о счёте по его идентификатору
- Добавление другого пользователя в друзья
- Удаление пользователя из друзей
- Перевод/Снятие/Пополнение счёта
- Может деавторизоваться

### `Неавторизованный пользователь`
- Может авторизоваться

## Нефункциональные требования
- Закрытая регистрация пользователей - только администраторы могут создавать новых пользователей
- Неавторизованные пользователи не должны иметь доступ к любым эндпоинтам системы, кроме `/login`
- Любая попытка неавторизованного доступа должна возвращать `401 Unauthorized` или `403 Forbidden`
- Пользователь может получать и изменять только те данные, которые принадлежат ему
- Попытка доступа к чужим данным должна возвращать `403 Forbidden`
- Пароли пользователей должны храниться в зашифрованном виде

На сдаче необходимо продемонстрировать функциональность системы (лучше использовать Postman)

Важно! Новое приложение никак не зависит от существующего, не использует никакие его классы. Всё заимеодействие с существующим приложением осуществляется с помощью `HTTP-запросов`.